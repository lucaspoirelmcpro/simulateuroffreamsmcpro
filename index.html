<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulateur de Coût</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

        body {
            font-family: 'Montserrat', sans-serif;
            text-align: center;
            background-color: #f8f9fa;
            color: #333;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
        }
        .cards {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            margin-bottom: 30px;
        }
        .card {
            flex: 1;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s;
            text-align: center;
        }
        .card:hover {
            transform: scale(1.05);
        }
        .essentiel { border-top: 5px solid #e63946; }
        .avance { border-top: 5px solid #1d3557; }
        .expert { border-top: 5px solid #457b9d; }
        .data-science-1 { border-top: 5px solid #f1faee; }
        .data-science-2 { border-top: 5px solid #a8dadc; }
        .price {
            font-size: 18px;
            color: #555;
            margin-top: 5px;
            font-weight: bold;
        }
        input[type="range"] {
            width: 100%;
            margin-top: 10px;
            accent-color: #e63946;
        }
        output {
            display: block;
            font-weight: bold;
            margin-top: 5px;
            font-size: 18px;
        }
        .summary {
            margin-top: 20px;
            padding: 15px;
            background: #f1f1f1;
            border-radius: 8px;
            font-size: 18px;
        }
        .year-selector {
            display: flex;
            justify-content: center;
            margin-top: 15px;
        }
        .year-selector button {
            padding: 10px 20px;
            border: none;
            background: #ddd;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            transition: background 0.3s;
            margin: 0 5px;
        }
        .year-selector button.active {
            background: #e63946;
            color: white;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>Simulateur de Coût</h2>

        <div class="cards">
            <div class="card essentiel">
                <h3>Essentiel</h3>
                <p class="price">19€ / mois par licence</p>
                <input type="range" id="essentiel" min="0" max="30" value="0" step="1" oninput="calculer()">
                <output id="valEssentiel">0</output> licences
            </div>

            <div class="card avance">
                <h3>Avancé</h3>
                <p class="price">39€ / mois par licence</p>
                <input type="range" id="avance" min="0" max="30" value="0" step="1" oninput="calculer()">
                <output id="valAvance">0</output> licences
            </div>

            <div class="card expert">
                <h3>Expert</h3>
                <p class="price">49€ / mois par licence</p>
                <input type="range" id="expert" min="0" max="30" value="0" step="1" oninput="calculer()">
                <output id="valExpert">0</output> licences
            </div>
        </div>

        <div class="cards">
            <div class="card data-science-1">
                <h3>Data Science - Niveau 1</h3>
                <p class="price">40€ / mois</p>
                <input type="checkbox" id="dataScience1" onclick="calculer()">
                <label for="dataScience1">Ajouter</label>
            </div>

            <div class="card data-science-2">
                <h3>Data Science - Niveau 2</h3>
                <p class="price">165€ / mois</p>
                <input type="checkbox" id="dataScience2" onclick="calculer()">
                <label for="dataScience2">Ajouter</label>
            </div>
        </div>

        <div class="year-selector">
            <button id="y1" class="active" onclick="setYears(1)">1 an</button>
            <button id="y2" onclick="setYears(2)">2 ans (-5%)</button>
            <button id="y3" onclick="setYears(3)">3 ans (-8%)</button>
        </div>

        <div class="summary">
            <p>Coût mensuel total : <span id="coutMensuel">0</span> €</p>
            <p>Coût annuel total : <span id="coutAnnuel">0</span> €</p>
            <p>Coût total du projet : <span id="coutTotal">0</span> €</p>
        </div>
    </div>

    <script>
        let annees = 1;

        function setYears(value) {
            annees = value;
            document.querySelectorAll('.year-selector button').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`y${value}`).classList.add('active');
            calculer();
        }

        function calculer() {
            let essentiel = parseInt(document.getElementById("essentiel").value);
            let avance = parseInt(document.getElementById("avance").value);
            let expert = parseInt(document.getElementById("expert").value);
            let dataScience1 = document.getElementById("dataScience1").checked;
            let dataScience2 = document.getElementById("dataScience2").checked;

            let prixBaseMensuel = (essentiel * 19) + (avance * 39) + (expert * 49);

            // Ajouter Data Science
            let prixDataScience = 0;
            if (dataScience1) prixDataScience += 40;
            if (dataScience2) prixDataScience += 165;

            let prixMensuel = prixBaseMensuel + prixDataScience;

            let reduction = 0;
            if (annees === 2) reduction = 0.05;
            if (annees === 3) reduction = 0.08;

            prixMensuel = prixMensuel * (1 - reduction);
            let prixAnnuel = prixMensuel * 12;
            let coutTotal = prixAnnuel * annees;

            document.getElementById("valEssentiel").textContent = essentiel;
            document.getElementById("valAvance").textContent = avance;
            document.getElementById("valExpert").textContent = expert;
            document.getElementById("coutMensuel").textContent = prixMensuel.toFixed(2);
            document.getElementById("coutAnnuel").textContent = prixAnnuel.toFixed(2);
            document.getElementById("coutTotal").textContent = coutTotal.toFixed(2);
        }
    </script>

</body>
</html>
